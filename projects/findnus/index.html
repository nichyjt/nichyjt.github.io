<!doctype html><html lang=en-sg><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><title>FindNUS 🔭 | Nicholas Yek</title><meta name=description content="My friend and I built a Lost & Found web-app over summer.
I reflect on developing its RESTful API backend and various aspects of backend development.
"><link rel=canonical href=https://nichyjt.github.io/projects/findnus/><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/mainmenu.css><link rel=stylesheet href=/css/fonts.css><link rel=stylesheet href=/css/colours.css><link rel=stylesheet href=/css/pagenav.css><link rel=stylesheet href=/css/homepage.css><link rel=stylesheet href=/css/featured.css><link rel=stylesheet href=/css/shortcodes.css><meta property="og:title" content="FindNUS :telescope:"><meta property="og:description" content="My friend and I built a Lost & Found web-app over summer.
I reflect on developing its RESTful API backend and various aspects of backend development.
"><meta property="og:type" content="article"><meta property="og:url" content="https://nichyjt.github.io/projects/findnus/"><meta property="article:section" content="projects"><meta property="article:published_time" content="2022-08-30T00:00:00+00:00"><meta property="article:modified_time" content="2022-08-30T00:00:00+00:00"><meta property="og:image" content="https://nichyjt.github.io/favicon_main.png"><meta name=twitter:card content="summary"><meta name=twitter:title content="FindNUS :telescope:"><meta name=twitter:description content="My friend and I built a Lost & Found web-app over summer.
I reflect on developing its RESTful API backend and various aspects of backend development.
"><script>document.addEventListener("DOMContentLoaded",e=>{const t=document.getElementsByTagName("details");for(let e=0;e<t.length;e++)t[e].children[0].addEventListener("click",function(n){t[e].hasAttribute("open")&&(n.preventDefault(),t[e].classList.add("hiding"),setTimeout(()=>{t[e].removeAttribute("open"),t[e].classList.remove("hiding")},200))})})</script><script>localStorage.getItem("theme")||localStorage.setItem("theme","lightmode")</script></head><body><div class=navcontainer><body><nav class=navbar><div class=home-item><a href=https://nichyjt.github.io class=home-link><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="home" class="svg-inline--fa fa-home fa-w-18" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="currentcolor" d="M280.37 148.26 96 300.11V464a16 16 0 0016 16l112.06-.29a16 16 0 0015.92-16V368a16 16 0 0116-16h64a16 16 0 0116 16v95.64a16 16 0 0016 16.05L464 480a16 16 0 0016-16V3e2L295.67 148.26a12.19 12.19.0 00-15.3.0zM571.6 251.47 488 182.56V44.05a12 12 0 00-12-12h-56a12 12 0 00-12 12v72.61L318.47 43a48 48 0 00-61 0L4.34 251.47a12 12 0 00-1.6 16.9l25.5 31A12 12 0 0045.15 301l235.22-193.74a12.19 12.19.0 0115.3.0L530.9 301a12 12 0 0016.9-1.6l25.5-31a12 12 0 00-1.7-16.93z"/></svg><span class=home-text>HOME</span></a></div><ul class=navbar-large><li class=nav-item><button style="cursor:pointer;padding:0;border:none;background:0 0" , class=menu-item>
<a href=/about , class=menu-item><svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="address-card" class="svg-inline--fa fa-address-card fa-w-18" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="currentcolor" d="M528 32H48C21.5 32 0 53.5.0 80v352c0 26.5 21.5 48 48 48h480c26.5.0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm0 4e2H48V80h480v352zM208 256c35.3.0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm-89.6 128h179.2c12.4.0 22.4-8.6 22.4-19.2v-19.2c0-31.8-30.1-57.6-67.2-57.6-10.8.0-18.7 8-44.8 8-26.9.0-33.4-8-44.8-8-37.1.0-67.2 25.8-67.2 57.6v19.2c0 10.6 10 19.2 22.4 19.2zM360 320h112c4.4.0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8H360c-4.4.0-8 3.6-8 8v16c0 4.4 3.6 8 8 8zm0-64h112c4.4.0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8H360c-4.4.0-8 3.6-8 8v16c0 4.4 3.6 8 8 8zm0-64h112c4.4.0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8H360c-4.4.0-8 3.6-8 8v16c0 4.4 3.6 8 8 8z"></path></svg><span class=menu-item-text>ABOUT</span></a></button></li><li class=nav-item><button style="cursor:pointer;padding:0;border:none;background:0 0" , class=menu-item>
<a href=/essays , class=menu-item><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="pen" class="svg-inline--fa fa-pen fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06-60.11-60.11c-18.75-18.75-49.16-18.75-67.91.0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16.0-67.91z"></path></svg><span class=menu-item-text>ESSAYS</span></a></button></li><li class=nav-item><button style="cursor:pointer;padding:0;border:none;background:0 0" , class=menu-item>
<a href=/projects , class=menu-item><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="robot" class="svg-inline--fa fa-robot fa-w-20" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentcolor" d="M32 224H64V416H32A31.96166 31.96166.0 010 384V256a31.96166 31.96166.0 0132-32zm512-48V448a64.06328 64.06328.0 01-64 64H160a64.06328 64.06328.0 01-64-64V176a79.974 79.974.0 0180-80H288V32a32 32 0 0164 0V96H464a79.974 79.974.0 0180 80zM264 256a40 40 0 10-40 40 39.997 39.997.0 0040-40zm-8 128H192v32h64zm96 0H288v32h64zM456 256a40 40 0 10-40 40 39.997 39.997.0 0040-40zm-8 128H384v32h64zM640 256V384a31.96166 31.96166.0 01-32 32H576V224h32a31.96166 31.96166.0 0132 32z"></path></svg><span class=menu-item-text>PROJECTS</span></a></button></li><li class=nav-item><button style="cursor:pointer;padding:0;border:none;background:0 0" , class=menu-item>
<a href=/tags , class=menu-item><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="tags" class="svg-inline--fa fa-tags fa-w-20" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentcolor" d="M497.941 225.941 286.059 14.059A48 48 0 00252.118.0H48C21.49.0.0 21.49.0 48v204.118a48 48 0 0014.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882.0l204.118-204.118c18.745-18.745 18.745-49.137.0-67.882zM112 160c-26.51.0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882.0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397.0h48.721a48 48 0 0133.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137.0 67.882z"></path></svg><span class=menu-item-text>TAGS</span></a></button></li><li class=nav-item><button id=darkmode-toggle , style="cursor:pointer;padding:0;border:none;background:0 0" , class=menu-item , onclick=changetheme()>
<a class=menu-item , style=text-decoration:underline><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="adjust" class="svg-inline--fa fa-adjust fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M8 256c0 136.966 111.033 248 248 248s248-111.034 248-248S392.966 8 256 8 8 119.033 8 256zm248 184V72c101.705.0 184 82.311 184 184 0 101.705-82.311 184-184 184z"></path></svg><span class=menu-item-text>DARKMODE</span></a></button>
<script>function changetheme(){document.body.className.includes("darkmode")?(document.body.classList.replace("darkmode","lightmode"),localStorage.setItem("theme","lightmode")):(document.body.classList.replace("lightmode","darkmode"),localStorage.setItem("theme","darkmode")),document.activeElement.blur()}</script></li></ul><div class=navbar-mobile><button class=hamburg-btn><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="bars" class="svg-inline--fa fa-bars fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentcolor" d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"></path></svg></button><ul class=navbar-hamburg-items><li class=nav-item><button style="cursor:pointer;padding:0;border:none;background:0 0" , class=menu-item>
<a href=/about , class=menu-item><svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="address-card" class="svg-inline--fa fa-address-card fa-w-18" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="currentcolor" d="M528 32H48C21.5 32 0 53.5.0 80v352c0 26.5 21.5 48 48 48h480c26.5.0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm0 4e2H48V80h480v352zM208 256c35.3.0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm-89.6 128h179.2c12.4.0 22.4-8.6 22.4-19.2v-19.2c0-31.8-30.1-57.6-67.2-57.6-10.8.0-18.7 8-44.8 8-26.9.0-33.4-8-44.8-8-37.1.0-67.2 25.8-67.2 57.6v19.2c0 10.6 10 19.2 22.4 19.2zM360 320h112c4.4.0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8H360c-4.4.0-8 3.6-8 8v16c0 4.4 3.6 8 8 8zm0-64h112c4.4.0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8H360c-4.4.0-8 3.6-8 8v16c0 4.4 3.6 8 8 8zm0-64h112c4.4.0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8H360c-4.4.0-8 3.6-8 8v16c0 4.4 3.6 8 8 8z"></path></svg><span class=menu-item-text>ABOUT</span></a></button></li><li class=nav-item><button style="cursor:pointer;padding:0;border:none;background:0 0" , class=menu-item>
<a href=/essays , class=menu-item><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="pen" class="svg-inline--fa fa-pen fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06-60.11-60.11c-18.75-18.75-49.16-18.75-67.91.0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16.0-67.91z"></path></svg><span class=menu-item-text>ESSAYS</span></a></button></li><li class=nav-item><button style="cursor:pointer;padding:0;border:none;background:0 0" , class=menu-item>
<a href=/projects , class=menu-item><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="robot" class="svg-inline--fa fa-robot fa-w-20" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentcolor" d="M32 224H64V416H32A31.96166 31.96166.0 010 384V256a31.96166 31.96166.0 0132-32zm512-48V448a64.06328 64.06328.0 01-64 64H160a64.06328 64.06328.0 01-64-64V176a79.974 79.974.0 0180-80H288V32a32 32 0 0164 0V96H464a79.974 79.974.0 0180 80zM264 256a40 40 0 10-40 40 39.997 39.997.0 0040-40zm-8 128H192v32h64zm96 0H288v32h64zM456 256a40 40 0 10-40 40 39.997 39.997.0 0040-40zm-8 128H384v32h64zM640 256V384a31.96166 31.96166.0 01-32 32H576V224h32a31.96166 31.96166.0 0132 32z"></path></svg><span class=menu-item-text>PROJECTS</span></a></button></li><li class=nav-item><button style="cursor:pointer;padding:0;border:none;background:0 0" , class=menu-item>
<a href=/tags , class=menu-item><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="tags" class="svg-inline--fa fa-tags fa-w-20" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentcolor" d="M497.941 225.941 286.059 14.059A48 48 0 00252.118.0H48C21.49.0.0 21.49.0 48v204.118a48 48 0 0014.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882.0l204.118-204.118c18.745-18.745 18.745-49.137.0-67.882zM112 160c-26.51.0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882.0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397.0h48.721a48 48 0 0133.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137.0 67.882z"></path></svg><span class=menu-item-text>TAGS</span></a></button></li><li class=nav-item><button id=darkmode-toggle , style="cursor:pointer;padding:0;border:none;background:0 0" , class=menu-item , onclick=changetheme()>
<a class=menu-item , style=text-decoration:underline><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="adjust" class="svg-inline--fa fa-adjust fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M8 256c0 136.966 111.033 248 248 248s248-111.034 248-248S392.966 8 256 8 8 119.033 8 256zm248 184V72c101.705.0 184 82.311 184 184 0 101.705-82.311 184-184 184z"></path></svg><span class=menu-item-text>DARKMODE</span></a></button>
<script>function changetheme(){document.body.className.includes("darkmode")?(document.body.classList.replace("darkmode","lightmode"),localStorage.setItem("theme","lightmode")):(document.body.classList.replace("lightmode","darkmode"),localStorage.setItem("theme","darkmode")),document.activeElement.blur()}</script></li></ul></div></nav></body></div><div class=bodycontainer><main><section class=section><div class=frontmatter><h1 class="title, listTitleLink">FindNUS 🔭</h1><div class=subtitle><p><time>📆 August 30, 2022</time>
| ⌛ 8 minutes read</p></div><p class=tags>📋 Tags: <a style=color:var(--color-link);margin-inline:.2rem href=https://nichyjt.github.io/tags/golang>Golang</a> <a style=color:var(--color-link);margin-inline:.2rem href=https://nichyjt.github.io/tags/backend>Backend</a> <a style=color:var(--color-link);margin-inline:.2rem href=https://nichyjt.github.io/tags/nus>NUS</a> <a style=color:var(--color-link);margin-inline:.2rem href=https://nichyjt.github.io/tags/project>Project</a> <a style=color:var(--color-link);margin-inline:.2rem href=https://nichyjt.github.io/tags/orbital>Orbital</a></p></div><hr><div class=content><h1 id=what-is-findnus>What is FindNUS?</h1><p>FindNUS is a lost and found web application that my pal <a href=https://github.com/jinxuan-owyong>Jin Xuan</a> and I built over summer 2022.</p><p>FindNUS was awarded the <a href=https://credentials.nus.edu.sg/097aaa40-a546-4805-9596-3bd940702b38>highest level of achivement</a>, given to only the top 7% of teams (top 29 of 414 teams) for NUS School of Computing&rsquo;s 2022 iteration of <a href=https://orbital.comp.nus.edu.sg/>Orbital</a>, an independent software development module.</p><p>We built FindNUS because we felt that the current lost and found website in NUS sucks and we could do better.</p><p>You can try <a href=https://findnus.netlify.app>FindNUS out here</a>!</p><figure class=figmd><img src=findnushome.webp alt="findnus homepage" class=fignormal><figcaption><p>FindNUS landing page</p></figcaption></figure><p>We wrote a <strong>truck load</strong> of documentation, including things like User Research and obscure bug quashing.
If this interests you, please head on over to our <a href=https://findnus.github.io>official docusite</a>.</p><p>If for some inexplicable reason you want to read the technical nitty gritty and thought processes behind the backend design,
please visit <a href=https://findnus.github.io/technical/backend>this subpage</a> of the docusite.</p><p>It makes no sense for me to re-write many of the technical stuff which I covered exhaustively
in the docusite; so this writeup will be a light reflection
about various software engineering things I thought of when
building the RESTful Backend API for FindNUS.</p><h1 id=building-the-backend>Building the Backend</h1><p>All the backend is, in essence, is a bunch of API endpoints exposed to the frontend website to talk to the databases
and perform business logic. Here&rsquo;s how I planned out the architecture:</p><h2 id=architecture>Architecture</h2><p>The architecture follows the microservices design pattern.</p><figure class=figmd><img src=backend.webp alt="backend architecture diagram" class=fignormal><figcaption><p>Backend Architecture</p></figcaption></figure><p><strong>Tech Stack</strong> 📚:<br>Golang, Go-gonic, MongoDB, Heroku, ElasticSearch, RabbitMQ, Firebase, Docker, SMTP, Imgur API</p><p>We seperated the business logic into logical, decoupled components that are the &lsquo;microservices&rsquo;. So we have the HTTP routing, CRUD logic and NLP as seperate microservices.</p><h3 id=microservice-ws>Microservice Ws</h3><p>In theory and practice, I found that this decoupling is very useful. When building a new featureset such as the Lookout microservice,
it was nice that when I introduced it to the testing environment,
<del>if</del> when it breaks, the other microservices still functioned normally.
This made testing on the frontend side still possible.</p><h3 id=microservices-ls>Microservices Ls</h3><p>Microservices are good and all with the whole spiel about scalablility and decoupling, but it has its own pains. One thing is that unlike the Monolith architecture,
setting up all the moving parts for
microservices is a <em><strong>huge pain and timesink</strong></em> 😵.</p><p>Many components require lots of time and attention to set up, such as
the Message Broker and Dockerfile config for containerization
and Unit Testing code. Sometimes I felt like I was spending more
time wrangling with RabbitMQ & Docker
than writing the spicy business logic.</p><p>But I feel that for a project that really needs scale and fault tolerance, the effort to set up
pays off, especially when 24/7 uptime is required. Monoliths are more dangerous in that sense -
if one component breaks, its likely that the entire house of cards will fall too.</p><p>The <strong>cost</strong> is also substantial 💸, at least on a Hobby scale (I dont want to pay money yet).
For Heroku<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>, I can only spin up 2 containers at a go.
Anything more, I would have to pay. So making a truly decoupled system with many microservices
is simply unfeasible on a hobby/broke college kid scale.</p><p>From this I can see why some Orbital projects gravitated towards serverless design patterns.
Why spend money to hire a backend engineer when all of that is abstracted away with AWS Lambda or
whatever serverless providers that costs barely any cent per API call<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup> exist out there?</p><p>Regardless, building a proper backend was fun, insightful and scratched
that dev itch I had ever since ending my backend stint at TOFFS.</p><h2 id=unit-testing>Unit Testing</h2><p>Unit testing is in theory simple - write a function that calls your function to be tested.
Give it some data with expected outputs and test to see if the function explodes 💥 or
returns something wrong.</p><p>Its simple until you actually need to mock data which surprisingly takes a lot of effort if you
want to do it right and cover the various permuatations and edge case behaviour.
Even worse are writing unit tests for functions tightly coupled to external services
like Databases or 3rd party APIs.</p><p>Careful thought needs to be put into designing
the tests to not pollute the databases/apis (even for staging environments, because things will break!).
Not to mention the many testing frameworks that exist out there.</p><p>This is why I like Golang. Writing unit tests for it and integrating it into CICD tools is simple(r).</p><p>I&rsquo;m sure that there exist some unit testing frameworks for other languages out there
that make things seamless and efficient. But in particular, building Unit tests is <strong>a language feature</strong> for Go and is quite easy to pick up.</p><p>A very non-production ready trivial golang unit test example:</p><div class=highlight><div style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868"> 0
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">12
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#999;font-style:italic>// foo.go
</span></span></span><span style=display:flex><span><span style=color:#999;font-style:italic></span><span style=color:#6ab825;font-weight:700>func</span> <span style=color:#447fcf>Add</span>(x <span style=color:#6ab825;font-weight:700>int</span>, y <span style=color:#6ab825;font-weight:700>int</span>){
</span></span><span style=display:flex><span>    <span style=color:#6ab825;font-weight:700>return</span> x+y;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#999;font-style:italic>// foo_test.go
</span></span></span><span style=display:flex><span><span style=color:#999;font-style:italic></span><span style=color:#6ab825;font-weight:700>func</span> <span style=color:#447fcf>TestAdd</span>(t *testing.T){
</span></span><span style=display:flex><span>    result := <span style=color:#447fcf>Add</span>(<span style=color:#3677a9>10</span>, <span style=color:#3677a9>5</span>)
</span></span><span style=display:flex><span>    <span style=color:#6ab825;font-weight:700>if</span> result != <span style=color:#3677a9>15</span> {
</span></span><span style=display:flex><span>        t.<span style=color:#447fcf>Log</span>(<span style=color:#ed9d13>&#34;Expected 15, got&#34;</span>, result)
</span></span><span style=display:flex><span>        t.<span style=color:#447fcf>Fail</span>()
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><p>To test the <code>Add</code> function, just</p><div class=highlight><div style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">0
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span> $ go <span style=color:#24909d>test</span> foo.go foo_test.go
</span></span></code></pre></td></tr></table></div></div><p>Clean. 🤌 Go will output the PASS/FAIL status for each test that was defined in
the <code>*_test.go</code> files. It also integrates well with Github Actions which makes automated testing simple and dare I say, fun.</p><p>The one thing I learnt about Unit Testing is that its payoffs is <strong>unbelievably</strong> good.
It probably saved hours of my time from reactively dealing with bugs.
It&rsquo;s a nice early warning system and makes you think carefully about
how to design your functions detect errors and handle them. 10/10 would do it again.</p><h2 id=api-documentation---a-necessary-chore>API Documentation - A Necessary Chore</h2><p>When embarking on this project, I was really interested in trying to get industry-standard level of endpoint API documentation for FindNUS&rsquo;s backend. I settled on <a href=https://swagger.io/specification/>OpenAPI3</a> specs because its interoperable with vendors that can process a OpenAPI3 <code>yaml</code> spec file and give really nice documentation.</p><p>However, most of these vendors cost $$$ so I opted to parse the <code>yaml</code> specs with a
open-source tool <a href=https://github.com/openapi-contrib/openapi3-generator>openapi3-generator</a>
to help generate nice, human-readable formatted markdown docs from the spec file. In case you&rsquo;re wondering, the yaml/json formats are not particularly nice to for a human.</p><p>Imagine digging through 500+ lines of this:</p><div class=highlight><div style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868"> 0
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">26
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#999;font-style:italic># One of many endpoint definitions using OpenAPI3 specs</span><span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666></span><span style=color:#6ab825;font-weight:700>paths</span>:<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>  </span><span style=color:#6ab825;font-weight:700>/item</span>:<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>    </span><span style=color:#6ab825;font-weight:700>post</span>:<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>      </span><span style=color:#6ab825;font-weight:700>description</span>:<span style=color:#666> </span>|<span style=color:#ed9d13>
</span></span></span><span style=display:flex><span><span style=color:#ed9d13>        </span><span style=color:#666>        </span>Add new Lost item to be put on Lookout on the database.<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>      </span><span style=color:#6ab825;font-weight:700>parameters</span>:<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>      </span>- <span style=color:#6ab825;font-weight:700>in</span>:<span style=color:#666> </span>header<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>        </span><span style=color:#6ab825;font-weight:700>name</span>:<span style=color:#666> </span>Authorization<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>        </span><span style=color:#6ab825;font-weight:700>description</span>:<span style=color:#666> </span>Firebase ID token of user <span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>        </span><span style=color:#6ab825;font-weight:700>required</span>:<span style=color:#666> </span><span style=color:#6ab825;font-weight:700>true</span><span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>        </span><span style=color:#6ab825;font-weight:700>schema</span>:<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>          </span><span style=color:#6ab825;font-weight:700>type</span>:<span style=color:#666> </span>string<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>          </span><span style=color:#6ab825;font-weight:700>example</span>:<span style=color:#666> </span><span style=color:#ed9d13>&#34;Authorization: my-firebase-idToken&#34;</span><span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>      </span><span style=color:#6ab825;font-weight:700>requestBody</span>:<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>        </span><span style=color:#6ab825;font-weight:700>description</span>:<span style=color:#666> </span>Callback item payload<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>        </span><span style=color:#6ab825;font-weight:700>content</span>:<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>          </span><span style=color:#6ab825;font-weight:700>&#39;application/json&#39;</span>:<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>            </span><span style=color:#6ab825;font-weight:700>schema</span>:<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>              </span><span style=color:#6ab825;font-weight:700>$ref</span>:<span style=color:#666> </span><span style=color:#ed9d13>&#34;#/components/schemas/NewItem&#34;</span><span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>      </span><span style=color:#6ab825;font-weight:700>responses</span>:<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>        </span><span style=color:#6ab825;font-weight:700>&#39;200&#39;</span>:<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>          </span><span style=color:#6ab825;font-weight:700>description</span>:<span style=color:#666> </span>Item registered into database<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>        </span><span style=color:#6ab825;font-weight:700>&#39;400&#39;</span>:<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>          </span><span style=color:#6ab825;font-weight:700>description</span>:<span style=color:#666> </span>Rejected new item into database<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>        </span><span style=color:#6ab825;font-weight:700>&#39;401&#39;</span>:<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>          </span><span style=color:#6ab825;font-weight:700>description</span>:<span style=color:#666> </span>Firebase credentials not invalid<span style=color:#666>
</span></span></span></code></pre></td></tr></table></div></div><p>Not exactly human friendly.</p><p>The purpose of API Docs is to make things crystal clear and save time communicating with others<sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup>. But this only works if docs are updated and written well. In FindNUS&rsquo;s case, due to the tight timeline and speed of development, I often had to play catch-up for documentation<sup id=fnref:4><a href=#fn:4 class=footnote-ref role=doc-noteref>4</a></sup>.</p><p>Throughout the development cycle, as I added in new backend endpoints & updates, bits and pieces
of the API docs weren&rsquo;t updated. This led to my frontend teammate often referring to the API docs and deferring back to me when he realised that the docs don&rsquo;t match up actual backend behaviour.</p><p>This defeated the purpose of having API docs as a communication aide. We lost quite a few hours of time playing the telephone game due to outdated docs.</p><p>Ultimately, maintaining good docs requires a lot of discipline on the developers&rsquo; side. It&rsquo;s not necessarily a trivial affair. Despite the pain of maintaining docs, it is still a necessary chore. If done well, development can be fast and seamless (which did happen at the later stages of FindNUS&rsquo; development. We pushed out quite a few new features in a short span with minimal telephoning).</p><p>All in all, playing the ☎ game back and forth for code is not fun and could be better spent doing more fun things, like breaking the server 😉.</p><h1 id=conclusion>Conclusion</h1><p>This project was a lot more taxing than I anticipated - partly because I was juggling this project with my full time internship. But it was particularly rewarding because it was a great opportunity to actually develop from scratch a project with proper CI/CD, Unit Testing and structured documentation, which is a good exercise for projects in the &lsquo;real&rsquo; world.</p><p>Last but not least, <strong>special thanks to my buddy Jin Xuan</strong> 💪, the frontend dev and fellow Computer Engineer for this project.</p><p>Thank you for tanking the Frontend, and being such a patient & understanding teammate to work with. It wasn&rsquo;t easy juggling and accomodating each other&rsquo;s hectic schedules, but I&rsquo;m glad we managed to pull through with a polished product and exceeding our own expectations for this project. It was an absolute joy working with you - FindNUS would not have been possible without you 💯.</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>As of writing, Heroku decided to pull the plug on their free tier instances. Pain&mldr;&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p>It does add up though&mldr;&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:3><p>This slows the speed of development. <em>The Mythical Man Month</em> covers this phenomena very well.&#160;<a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:4><p>But this is often the reality of most if not all startup environments.&#160;<a href=#fnref:4 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div></div></section></main></div><footer class=footer><div><p class=footertext style=color:#f0f8ff;font-family:MainTitle;align-self:center>Powered by
<a href=https://gohugo.io/ target=_blank style=color:var(--color-link)><span>Hugo</span></a></p></div><div class=footertext style=font-family:MainTitle;align-self:center><a href=https://nichyjt.github.io/attributions/ style=color:var(--color-link)><span>Attributions & 🍪</span></a></div><div><p class=footertext class=footertext style=color:#f0f8ff;font-family:MainTitle;align-items:center>Made with ❤️ - <a href=https://github.com/nichyjt/ target=_blank , style=color:var(--color-link)>nichyjt</a></p></div><div class=footertext style=color:#f0f8ff;font-family:MainTitle;align-self:center>© 2021 - 2023 Nicholas Yek</div><div class=fontloader></div></footer></body><script>document.body.classList.add(localStorage.getItem("theme"))</script></html>