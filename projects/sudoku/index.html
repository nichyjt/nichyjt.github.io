<!doctype html><html lang=en-sg>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover">
<title>Sudoku.py | Nicholas Yek</title>
<meta name=description content="Making a Sudoku game with Python, backtracking and Tkinter.">
<link rel=canonical href=https://nichyjt.github.io/projects/sudoku/>
<link rel=stylesheet href=/css/style.css>
<link rel=stylesheet href=/css/mainmenu.css>
<link rel=stylesheet href=/css/fonts.css>
<link rel=stylesheet href=/css/colours.css>
<link rel=stylesheet href=/css/pagenav.css>
<link rel=stylesheet href=/css/homepage.css>
<link rel=stylesheet href=/css/featured.css>
<link rel=stylesheet href=/css/shortcodes.css>
<link rel=stylesheet href=/css/badgeicon.css>
<link rel=stylesheet href=/css/expandable.css>
<script src=/js/accordian.js></script>
<script src=/js/spoiler.js></script>
<script src=/js/expandable.js></script>
<meta property="og:title" content="Sudoku.py">
<meta property="og:description" content="Making a Sudoku game with Python, backtracking and Tkinter.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://nichyjt.github.io/projects/sudoku/"><meta property="article:section" content="projects">
<meta property="article:published_time" content="2021-05-30T21:08:04+08:00">
<meta property="article:modified_time" content="2021-05-30T21:08:04+08:00">
<meta property="og:image" content="https://nichyjt.github.io/favicon_main.png">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Sudoku.py">
<meta name=twitter:description content="Making a Sudoku game with Python, backtracking and Tkinter.">
<script>localStorage.getItem("theme")||localStorage.setItem("theme","lightmode")</script>
</head><body>
<div class=navcontainer><body>
<nav class=navbar>
<div class=home-item>
<a href=https://nichyjt.github.io class=home-link><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="home" class="svg-inline--fa fa-home fa-w-18" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="currentcolor" d="M280.37 148.26 96 300.11V464a16 16 0 0016 16l112.06-.29a16 16 0 0015.92-16V368a16 16 0 0116-16h64a16 16 0 0116 16v95.64a16 16 0 0016 16.05L464 480a16 16 0 0016-16V3e2L295.67 148.26a12.19 12.19.0 00-15.3.0zM571.6 251.47 488 182.56V44.05a12 12 0 00-12-12h-56a12 12 0 00-12 12v72.61L318.47 43a48 48 0 00-61 0L4.34 251.47a12 12 0 00-1.6 16.9l25.5 31A12 12 0 0045.15 301l235.22-193.74a12.19 12.19.0 0115.3.0L530.9 301a12 12 0 0016.9-1.6l25.5-31a12 12 0 00-1.7-16.93z"/></svg>
<span class=home-text>HOME</span>
</a>
</div>
<ul class=navbar-large>
<li class=nav-item>
<button style="cursor:pointer;padding:0;border:none;background:0 0" , class=menu-item>
<a href=/about , class=menu-item><svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="address-card" class="svg-inline--fa fa-address-card fa-w-18" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="currentcolor" d="M528 32H48C21.5 32 0 53.5.0 80v352c0 26.5 21.5 48 48 48h480c26.5.0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm0 4e2H48V80h480v352zM208 256c35.3.0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm-89.6 128h179.2c12.4.0 22.4-8.6 22.4-19.2v-19.2c0-31.8-30.1-57.6-67.2-57.6-10.8.0-18.7 8-44.8 8-26.9.0-33.4-8-44.8-8-37.1.0-67.2 25.8-67.2 57.6v19.2c0 10.6 10 19.2 22.4 19.2zM360 320h112c4.4.0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8H360c-4.4.0-8 3.6-8 8v16c0 4.4 3.6 8 8 8zm0-64h112c4.4.0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8H360c-4.4.0-8 3.6-8 8v16c0 4.4 3.6 8 8 8zm0-64h112c4.4.0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8H360c-4.4.0-8 3.6-8 8v16c0 4.4 3.6 8 8 8z"></path></svg>
<span class=menu-item-text>ABOUT</span>
</a>
</button>
</li>
<li class=nav-item>
<button style="cursor:pointer;padding:0;border:none;background:0 0" , class=menu-item>
<a href=/essays , class=menu-item><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="pen" class="svg-inline--fa fa-pen fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06-60.11-60.11c-18.75-18.75-49.16-18.75-67.91.0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16.0-67.91z"></path></svg>
<span class=menu-item-text>ESSAYS</span>
</a>
</button>
</li>
<li class=nav-item>
<button style="cursor:pointer;padding:0;border:none;background:0 0" , class=menu-item>
<a href=/projects , class=menu-item><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="robot" class="svg-inline--fa fa-robot fa-w-20" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentcolor" d="M32 224H64V416H32A31.96166 31.96166.0 010 384V256a31.96166 31.96166.0 0132-32zm512-48V448a64.06328 64.06328.0 01-64 64H160a64.06328 64.06328.0 01-64-64V176a79.974 79.974.0 0180-80H288V32a32 32 0 0164 0V96H464a79.974 79.974.0 0180 80zM264 256a40 40 0 10-40 40 39.997 39.997.0 0040-40zm-8 128H192v32h64zm96 0H288v32h64zM456 256a40 40 0 10-40 40 39.997 39.997.0 0040-40zm-8 128H384v32h64zM640 256V384a31.96166 31.96166.0 01-32 32H576V224h32a31.96166 31.96166.0 0132 32z"></path></svg>
<span class=menu-item-text>PROJECTS</span>
</a>
</button>
</li>
<li class=nav-item>
<button style="cursor:pointer;padding:0;border:none;background:0 0" , class=menu-item>
<a href=/teaching , class=menu-item><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>ic_fluent_whiteboard_24_filled</title><desc>Created with Sketch.</desc><g id="üîç-Product-Icons" stroke="none" stroke-width="1" fill="currentcolor" fill-rule="evenodd"><g id="ic_fluent_whiteboard_24_filled" fill="currentcolor" fill-rule="nonzero"><path d="M15.9889014 4 12.9218926 7.062672C12.584361 7.39965048 12.3198662 7.80144684 12.1437848 8.24291696L12.0631831 8.46684175 11.324259 10.761696C11.184559 11.1955581 11.1799219 11.6616177 11.3109617 12.0981735 11.6526819 13.2366056 12.8152702 13.9038843 13.957309 13.6471052L14.1128352 13.6063197l2.3275683-.6986601C16.9149418 12.7652187 17.3529095 12.5239389 17.7259682 12.2007334L17.9069572 12.0323818 22 7.946v8.808591c0 1.7949254-1.4550746 3.25-3.25 3.25H5.25c-1.79492544.0-3.25009858-1.4550746-3.25009858-3.25L2.00028801 12.555215 2.07593132 12.5235888 2.1491174 12.4830228l3.75944706-2.362988L6.00672527 10.067941C6.34143087 9.9208341 6.74227866 10.0370907 6.94266635 10.3559019 7.06489956 10.5503715 7.09023646 10.7880768 7.01613393 11.0012262L6.97078427 11.1054407 5.76304763 13.3908405 5.69296688 13.535549C5.22026466 14.6064091 5.6502057 15.8760541 6.70109472 16.4314042c.62004594.327667900000002 1.35377136.3459419 1.98529061.0576805L8.85592161 16.4028701 10.6208022 15.4065583 10.7058795 15.3502913C10.9995312 15.1261343 11.0896473 14.7138755 10.9019246 14.3838314 10.7142019 14.0537874 10.3138032 13.920524 9.9710451 14.0583446L9.8791978 14.102709 8.12020755 15.0956881 8.02227723 15.1418514C7.82158817 15.2192865 7.59519714 15.2073288 7.4019376 15.1051994 7.06623814 14.9277965 6.92063051 14.5317212 7.04776029 14.1848549L7.08925622 14.0916763l1.20773289-2.2853927L8.37643726 11.6398047C8.66531956 10.9646696 8.60754263 10.1859534 8.21263533 9.55766707 7.58141412 8.55341199 6.2871711 8.21910595 5.25578275 8.76593103L5.11032966 8.8500658 1.99990142 10.805V7.25c0-1.73303146 1.35655335-3.14924593 3.06567467-3.24485521L5.25 4H15.9889014zm5.1865976-.45513877L21.3057053 3.66549405 21.4262125 3.79573486C22.1894032 4.68737541 22.1487912 6.0305334 21.3046801 6.87410524L17.0238193 11.1477533C16.760843 11.4102865 16.4369385 11.6036013 16.0810348 11.7104319l-2.3275683.6986601C13.224498 12.5678711 12.6669685 12.2677732 12.5081894 11.7388048 12.4499495 11.54478 12.4520104 11.3376424 12.5140993 11.1448148l.7389242-2.29485426C13.3626608 8.50946335 13.5519023 8.20001385 13.805051 7.94727999l4.290646-4.28361488c.8448134-.84342904 2.1883622-.88284974 3.079802-.11880388z" id="üé®-Color"/></g></g></svg>
<span class=menu-item-text>TEACHING</span>
</a>
</button>
</li>
<li class=nav-item>
<button style="cursor:pointer;padding:0;border:none;background:0 0" , class=menu-item>
<a href=/tags , class=menu-item><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="tags" class="svg-inline--fa fa-tags fa-w-20" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentcolor" d="M497.941 225.941 286.059 14.059A48 48 0 00252.118.0H48C21.49.0.0 21.49.0 48v204.118a48 48 0 0014.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882.0l204.118-204.118c18.745-18.745 18.745-49.137.0-67.882zM112 160c-26.51.0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882.0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397.0h48.721a48 48 0 0133.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137.0 67.882z"></path></svg>
<span class=menu-item-text>TAGS</span>
</a>
</button>
</li>
<li class=nav-item>
<button id=darkmode-toggle , style="cursor:pointer;padding:0;border:none;background:0 0" , class=menu-item , onclick=changetheme()>
<a class=menu-item , style=text-decoration:underline><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="adjust" class="svg-inline--fa fa-adjust fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M8 256c0 136.966 111.033 248 248 248s248-111.034 248-248S392.966 8 256 8 8 119.033 8 256zm248 184V72c101.705.0 184 82.311 184 184 0 101.705-82.311 184-184 184z"></path></svg>
<span class=menu-item-text>DARKMODE</span>
</a>
</button>
<script>function changetheme(){document.body.className.includes("darkmode")?(document.body.classList.replace("darkmode","lightmode"),localStorage.setItem("theme","lightmode")):(document.body.classList.replace("lightmode","darkmode"),localStorage.setItem("theme","darkmode")),document.activeElement.blur()}</script>
</li>
</ul>
<div class="navbar-mobile hamburg-wrapper">
<div class=hamburg-btn tabindex=0><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="bars" class="svg-inline--fa fa-bars fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentcolor" d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"></path></svg>
</div>
<ul class=navbar-hamburg-items>
<li class=nav-item>
<button style="cursor:pointer;padding:0;border:none;background:0 0" , class=menu-item>
<a href=/about , class=menu-item><svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="address-card" class="svg-inline--fa fa-address-card fa-w-18" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="currentcolor" d="M528 32H48C21.5 32 0 53.5.0 80v352c0 26.5 21.5 48 48 48h480c26.5.0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm0 4e2H48V80h480v352zM208 256c35.3.0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm-89.6 128h179.2c12.4.0 22.4-8.6 22.4-19.2v-19.2c0-31.8-30.1-57.6-67.2-57.6-10.8.0-18.7 8-44.8 8-26.9.0-33.4-8-44.8-8-37.1.0-67.2 25.8-67.2 57.6v19.2c0 10.6 10 19.2 22.4 19.2zM360 320h112c4.4.0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8H360c-4.4.0-8 3.6-8 8v16c0 4.4 3.6 8 8 8zm0-64h112c4.4.0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8H360c-4.4.0-8 3.6-8 8v16c0 4.4 3.6 8 8 8zm0-64h112c4.4.0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8H360c-4.4.0-8 3.6-8 8v16c0 4.4 3.6 8 8 8z"></path></svg>
<span class=menu-item-text>ABOUT</span>
</a>
</button>
</li>
<li class=nav-item>
<button style="cursor:pointer;padding:0;border:none;background:0 0" , class=menu-item>
<a href=/essays , class=menu-item><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="pen" class="svg-inline--fa fa-pen fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06-60.11-60.11c-18.75-18.75-49.16-18.75-67.91.0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16.0-67.91z"></path></svg>
<span class=menu-item-text>ESSAYS</span>
</a>
</button>
</li>
<li class=nav-item>
<button style="cursor:pointer;padding:0;border:none;background:0 0" , class=menu-item>
<a href=/projects , class=menu-item><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="robot" class="svg-inline--fa fa-robot fa-w-20" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentcolor" d="M32 224H64V416H32A31.96166 31.96166.0 010 384V256a31.96166 31.96166.0 0132-32zm512-48V448a64.06328 64.06328.0 01-64 64H160a64.06328 64.06328.0 01-64-64V176a79.974 79.974.0 0180-80H288V32a32 32 0 0164 0V96H464a79.974 79.974.0 0180 80zM264 256a40 40 0 10-40 40 39.997 39.997.0 0040-40zm-8 128H192v32h64zm96 0H288v32h64zM456 256a40 40 0 10-40 40 39.997 39.997.0 0040-40zm-8 128H384v32h64zM640 256V384a31.96166 31.96166.0 01-32 32H576V224h32a31.96166 31.96166.0 0132 32z"></path></svg>
<span class=menu-item-text>PROJECTS</span>
</a>
</button>
</li>
<li class=nav-item>
<button style="cursor:pointer;padding:0;border:none;background:0 0" , class=menu-item>
<a href=/teaching , class=menu-item><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>ic_fluent_whiteboard_24_filled</title><desc>Created with Sketch.</desc><g id="üîç-Product-Icons" stroke="none" stroke-width="1" fill="currentcolor" fill-rule="evenodd"><g id="ic_fluent_whiteboard_24_filled" fill="currentcolor" fill-rule="nonzero"><path d="M15.9889014 4 12.9218926 7.062672C12.584361 7.39965048 12.3198662 7.80144684 12.1437848 8.24291696L12.0631831 8.46684175 11.324259 10.761696C11.184559 11.1955581 11.1799219 11.6616177 11.3109617 12.0981735 11.6526819 13.2366056 12.8152702 13.9038843 13.957309 13.6471052L14.1128352 13.6063197l2.3275683-.6986601C16.9149418 12.7652187 17.3529095 12.5239389 17.7259682 12.2007334L17.9069572 12.0323818 22 7.946v8.808591c0 1.7949254-1.4550746 3.25-3.25 3.25H5.25c-1.79492544.0-3.25009858-1.4550746-3.25009858-3.25L2.00028801 12.555215 2.07593132 12.5235888 2.1491174 12.4830228l3.75944706-2.362988L6.00672527 10.067941C6.34143087 9.9208341 6.74227866 10.0370907 6.94266635 10.3559019 7.06489956 10.5503715 7.09023646 10.7880768 7.01613393 11.0012262L6.97078427 11.1054407 5.76304763 13.3908405 5.69296688 13.535549C5.22026466 14.6064091 5.6502057 15.8760541 6.70109472 16.4314042c.62004594.327667900000002 1.35377136.3459419 1.98529061.0576805L8.85592161 16.4028701 10.6208022 15.4065583 10.7058795 15.3502913C10.9995312 15.1261343 11.0896473 14.7138755 10.9019246 14.3838314 10.7142019 14.0537874 10.3138032 13.920524 9.9710451 14.0583446L9.8791978 14.102709 8.12020755 15.0956881 8.02227723 15.1418514C7.82158817 15.2192865 7.59519714 15.2073288 7.4019376 15.1051994 7.06623814 14.9277965 6.92063051 14.5317212 7.04776029 14.1848549L7.08925622 14.0916763l1.20773289-2.2853927L8.37643726 11.6398047C8.66531956 10.9646696 8.60754263 10.1859534 8.21263533 9.55766707 7.58141412 8.55341199 6.2871711 8.21910595 5.25578275 8.76593103L5.11032966 8.8500658 1.99990142 10.805V7.25c0-1.73303146 1.35655335-3.14924593 3.06567467-3.24485521L5.25 4H15.9889014zm5.1865976-.45513877L21.3057053 3.66549405 21.4262125 3.79573486C22.1894032 4.68737541 22.1487912 6.0305334 21.3046801 6.87410524L17.0238193 11.1477533C16.760843 11.4102865 16.4369385 11.6036013 16.0810348 11.7104319l-2.3275683.6986601C13.224498 12.5678711 12.6669685 12.2677732 12.5081894 11.7388048 12.4499495 11.54478 12.4520104 11.3376424 12.5140993 11.1448148l.7389242-2.29485426C13.3626608 8.50946335 13.5519023 8.20001385 13.805051 7.94727999l4.290646-4.28361488c.8448134-.84342904 2.1883622-.88284974 3.079802-.11880388z" id="üé®-Color"/></g></g></svg>
<span class=menu-item-text>TEACHING</span>
</a>
</button>
</li>
<li class=nav-item>
<button style="cursor:pointer;padding:0;border:none;background:0 0" , class=menu-item>
<a href=/tags , class=menu-item><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="tags" class="svg-inline--fa fa-tags fa-w-20" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentcolor" d="M497.941 225.941 286.059 14.059A48 48 0 00252.118.0H48C21.49.0.0 21.49.0 48v204.118a48 48 0 0014.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882.0l204.118-204.118c18.745-18.745 18.745-49.137.0-67.882zM112 160c-26.51.0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882.0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397.0h48.721a48 48 0 0133.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137.0 67.882z"></path></svg>
<span class=menu-item-text>TAGS</span>
</a>
</button>
</li>
<li class=nav-item>
<button id=darkmode-toggle , style="cursor:pointer;padding:0;border:none;background:0 0" , class=menu-item , onclick=changetheme()>
<a class=menu-item , style=text-decoration:underline><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="adjust" class="svg-inline--fa fa-adjust fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M8 256c0 136.966 111.033 248 248 248s248-111.034 248-248S392.966 8 256 8 8 119.033 8 256zm248 184V72c101.705.0 184 82.311 184 184 0 101.705-82.311 184-184 184z"></path></svg>
<span class=menu-item-text>DARKMODE</span>
</a>
</button>
<script>function changetheme(){document.body.className.includes("darkmode")?(document.body.classList.replace("darkmode","lightmode"),localStorage.setItem("theme","lightmode")):(document.body.classList.replace("lightmode","darkmode"),localStorage.setItem("theme","darkmode")),document.activeElement.blur()}</script>
</li>
</ul>
</div>
</nav>
<script>const button=document.querySelector('.hamburg-btn'),menu=document.querySelector('.navbar-hamburg-items');button.addEventListener('click',a=>{menu.classList.toggle('show'),a.stopPropagation()}),document.addEventListener('click',a=>{!button.contains(a.target)&&!menu.contains(a.target)&&menu.classList.remove('show')})</script>
</body></div>
<div class=bodycontainer>
<main>
<section class=section>
<div class=frontmatter>
<h1 class="title, listTitleLink">Sudoku.py</h1>
<div class=subtitle>
<p>
<time>üìÜ May 30, 2021</time>
|
‚åõ 16 minutes read
</p>
</div>
<p class=tags style=width:fit-content>üìã Tags: <a style=color:var(--color-link);margin-inline:.2rem href=https://nichyjt.github.io/tags/python> Python</a> <a style=color:var(--color-link);margin-inline:.2rem href=https://nichyjt.github.io/tags/algorithms> Algorithms</a> <a style=color:var(--color-link);margin-inline:.2rem href=https://nichyjt.github.io/tags/data-analytics> Data Analytics</a> <a style=color:var(--color-link);margin-inline:.2rem href=https://nichyjt.github.io/tags/project> Project</a>
</p>
</div>
<hr>
<div class=content>
<h3 id=sudoku-squares-are-elegant-and-frankly-magical1>Sudoku Squares are elegant, and frankly, magical.<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup></h3>
<p>With pockets of time being freed up with work from home orders during the COVID-19 pandemic, I picked up Sudoku to fill in the gaps. And man, it&rsquo;s fun solving them - it&rsquo;s cathartic seeing the numbers fall nicely into place.</p>
<p>It&rsquo;s one thing to solve Sudokus, but another to create one.</p>
<p>Out of curiosity, I decided to try and make a fully filled Sudoku Grid by hand. I gave up after a few attempts. It&rsquo;s surprisingly tedious and difficult to build one off the cuff.</p>
<p>Wouldn&rsquo;t it be much <em>much</em> easier for a computer to do all the tedious comparisons and checks rather than relying on my error-prone brain?</p>
<p>Since I was quite free waiting to enroll into University&mldr; one thing led to another, which led to <a href=https://github.com/nichyjt/Sudoku_py>this</a> homemade Sudoku game being born. This is how I made it.</p>
<h1 id=a-lazy-approach>A Lazy Approach</h1>
<p>The first approach that came to my mind was basically building the board similar to how I would try doing it by hand.
The algorithm&rsquo;s script is in the repo under <code>sudogen.py</code>.</p>
<h2 id=the-algorithm->The Algorithm ‚öôÔ∏è</h2>
<ol>
<li>
<p>Fill up the grid row by row randomly with valid (unused) numbers that comply with Sudoku <a href=https://sudoku.com/how-to-play/sudoku-rules-for-complete-beginners/>rules</a></p>
</li>
<li>
<p>If the row can&rsquo;t be built, try making the row again from scratch</p>
</li>
<li>
<p>If the row cannot be built multiple times, give up on the current row and build the <em>previous</em> row from scratch again</p>
</li>
<li>
<p>Repeat until all 9 rows of the Sudoku grid fall into place</p>
</li>
</ol>
<p>This is, admittedly, a very lazy way of building the Sudoku board. It does not keep track of the values that were picked and failed (which means that there is a chance that the row can choose a failed number again). It even &lsquo;gives up&rsquo; prematurely, even though a solution to building a row can be found.</p>
<p>But before we work on making the approach more rigorous, let&rsquo;s make the code work first.</p>
<h2 id=making-the-grid>Making the Grid</h2>
<p>First things first, we need to set up a empty sudoku grid so that we can fill it in.</p>
<div class=highlight><div style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 0
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#815ba4>def</span> <span style=color:#06b6ef>generateSudoku</span>():
    <span style=color:#776e71># A more elegant way of building the grid</span>
    grid <span style=color:#5bc4bf>=</span> [[<span style=color:#f99b15>0</span> <span style=color:#815ba4>for</span> i <span style=color:#5bc4bf>in</span> range(<span style=color:#f99b15>9</span>)] <span style=color:#815ba4>for</span> j <span style=color:#5bc4bf>in</span> range(<span style=color:#f99b15>9</span>)]
    <span style=color:#776e71># But let&#39;s make the grid more human-readable...</span>
    <span style=color:#776e71># ...for ease of visualisation/debugging</span>
    grid <span style=color:#5bc4bf>=</span> [
    [<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>],
    [<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>],
    [<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>],
    [<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>],
    [<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>],
    [<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>],
    [<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>],
    [<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>],
    [<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>]
    ]
    <span style=color:#815ba4>return</span> grid
<span style=color:#776e71># In the source code, the latter approach was used</span>
</code></pre></td></tr></table>
</div>
</div><p>The next thing we need to do is to build the row. To fill in the cells in the row, we need to find out what the possible (unused) values can be placed in each cell.</p>
<h3 id=searching-the-rows-columns-and-squares>Searching the Rows, Columns and Squares</h3>
<p>To find the <code>unused</code> numbers that can be inserted, we must search and find out which numbers have appeared in the position&rsquo;s row, column and square. This is essentially how one would check if their Sudoku answer is correct.</p>
<p>An intuitive approach is to search the row/column/square and check which values already exist, which will implicitly give us the unused values.</p>
<p>This is one way we can implement this if we just checked the row:</p>
<div class=highlight><div style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 0
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#776e71># For a given position (rowIdx, colIdx) on the grid...</span>
<span style=color:#815ba4>def</span> <span style=color:#06b6ef>getAvailValues</span>(rowIndex, colIndex, grid):
    unused <span style=color:#5bc4bf>=</span> [n <span style=color:#815ba4>for</span> n <span style=color:#5bc4bf>in</span> range(<span style=color:#f99b15>1</span>,<span style=color:#f99b15>10</span>)]
    <span style=color:#776e71># Find occurences in a row</span>
    <span style=color:#815ba4>for</span> value <span style=color:#5bc4bf>in</span> range(<span style=color:#f99b15>1</span>,<span style=color:#f99b15>10</span>):
        <span style=color:#776e71># colIndex rather than 2/5/8 for &#39;early stopping&#39;</span>
        <span style=color:#815ba4>for</span> colPosition <span style=color:#5bc4bf>in</span> range(colIndex<span style=color:#5bc4bf>+</span><span style=color:#f99b15>1</span>):
            <span style=color:#815ba4>if</span> grid[rowindex][colPosition] <span style=color:#5bc4bf>==</span> value:
                unused<span style=color:#5bc4bf>.</span>pop(value)
                <span style=color:#815ba4>break</span>
    <span style=color:#815ba4>return</span> unused
</code></pre></td></tr></table>
</div>
</div><p>This approach is slow. Its worst case time complexity is O(n^2).</p>
<p>This slowness adds up over time when building the Sudoku. This function is the workhorse of the algorithm, as it is called for every position of the Sudoku grid, which means that at least 81 calls need to be made!</p>
<p>So what I did was implement a counting sort.</p>
<div class=highlight><div style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 0
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#815ba4>def</span> <span style=color:#06b6ef>getAvailValues</span>(rowIndex, colIndex, grid):
    vmap <span style=color:#5bc4bf>=</span> [<span style=color:#f99b15>0</span> <span style=color:#815ba4>for</span> x <span style=color:#5bc4bf>in</span> range(<span style=color:#f99b15>10</span>)]
    <span style=color:#776e71># Logs occurences in row</span>
    <span style=color:#815ba4>for</span> i <span style=color:#5bc4bf>in</span> range(colIndex<span style=color:#5bc4bf>+</span><span style=color:#f99b15>1</span>):
        vmap[grid[rowIndex][i]] <span style=color:#5bc4bf>+=</span><span style=color:#f99b15>1</span>
    unused <span style=color:#5bc4bf>=</span> []
    <span style=color:#815ba4>for</span> i <span style=color:#5bc4bf>in</span> range(<span style=color:#f99b15>1</span>,<span style=color:#f99b15>10</span>):
        <span style=color:#815ba4>if</span> vmap[i] <span style=color:#5bc4bf>==</span> <span style=color:#f99b15>0</span>:
            unused<span style=color:#5bc4bf>.</span>append(i)
    <span style=color:#815ba4>return</span> unused

<span style=color:#776e71># NOTE: It is entirely possible to range(9) instead.</span>
<span style=color:#776e71># range(1,10) was used for clarity&#39;s sake </span>
</code></pre></td></tr></table>
</div>
</div><p>This allows us to map the values that have been used when scanning through the row, col & squares of the grid. We can then check for a value&rsquo;s occurence with a O(1) list access to <code>vmap</code>. For example, to find how many times &lsquo;1&rsquo; has appeared, I simply need to call <code>vmap[1]</code>.</p>
<p>This reduces our time complexity to O(n)<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup>.</p>
<p>We can implement this trivially for rows and columns, since we can access a row/column using <code>rowIndex</code>/<code>colIndex</code>. But finding the 3x3 squares is a little harder. First, we need to know where the square starts and stops for the position being queried.</p>
<div class=highlight><div style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 0
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#776e71># Returns the row/col limits for the cell&#39;s square</span>
<span style=color:#815ba4>def</span> <span style=color:#06b6ef>getSquareLimits</span>(rowIndex, colIndex):
    rowLimits, colLimits <span style=color:#5bc4bf>=</span> [],[]
    <span style=color:#776e71># Column Limits</span>
    <span style=color:#815ba4>if</span> colIndex <span style=color:#5bc4bf>&lt;</span> <span style=color:#f99b15>3</span>:
        colLimits <span style=color:#5bc4bf>=</span> [<span style=color:#f99b15>0</span>,<span style=color:#f99b15>3</span>]
    <span style=color:#815ba4>elif</span> colIndex <span style=color:#5bc4bf>&lt;</span> <span style=color:#f99b15>6</span>:
        colLimits <span style=color:#5bc4bf>=</span> [<span style=color:#f99b15>3</span>,<span style=color:#f99b15>6</span>]
    <span style=color:#815ba4>else</span>:
        colLimits <span style=color:#5bc4bf>=</span> [<span style=color:#f99b15>6</span>,<span style=color:#f99b15>9</span>]
    <span style=color:#776e71># Row Limits</span>
    <span style=color:#776e71># rowIndex is used for early stopping</span>
    <span style=color:#815ba4>if</span> rowIndex <span style=color:#5bc4bf>&lt;</span> <span style=color:#f99b15>3</span>:
        rowLimits <span style=color:#5bc4bf>=</span> [<span style=color:#f99b15>0</span>,rowIndex<span style=color:#5bc4bf>+</span><span style=color:#f99b15>1</span>]
    <span style=color:#815ba4>elif</span> rowIndex <span style=color:#5bc4bf>&lt;</span> <span style=color:#f99b15>6</span>:
        rowLimits <span style=color:#5bc4bf>=</span> [<span style=color:#f99b15>3</span>,rowIndex<span style=color:#5bc4bf>+</span><span style=color:#f99b15>1</span>]
    <span style=color:#815ba4>else</span>:
        rowLimits <span style=color:#5bc4bf>=</span> [<span style=color:#f99b15>6</span>,rowIndex<span style=color:#5bc4bf>+</span><span style=color:#f99b15>1</span>]
    <span style=color:#815ba4>return</span> (rowLimits, colLimits)
</code></pre></td></tr></table>
</div>
</div><p>With these limits, we can then implement our counting sort for a 3x3 square in the Sudoku:</p>
<div class=highlight><div style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 0
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#776e71># Get the unused values for the square only</span>
<span style=color:#815ba4>def</span> <span style=color:#06b6ef>getAvailValues</span>(rowIndex, colIndex, grid):
    <span style=color:#776e71># Get the square limits</span>
    sqLim <span style=color:#5bc4bf>=</span> getSquareLimits(rowIndex, colIndex)
    <span style=color:#815ba4>for</span> ri <span style=color:#5bc4bf>in</span> range(sqLim[<span style=color:#f99b15>0</span>][<span style=color:#f99b15>0</span>], sqLim[<span style=color:#f99b15>0</span>][<span style=color:#f99b15>1</span>]):
        <span style=color:#815ba4>for</span> ci <span style=color:#5bc4bf>in</span> range(sqLim[<span style=color:#f99b15>1</span>][<span style=color:#f99b15>0</span>], sqLim[<span style=color:#f99b15>1</span>][<span style=color:#f99b15>1</span>]):
            vmap[grid[ri][ci]] <span style=color:#5bc4bf>+=</span><span style=color:#f99b15>1</span>
    <span style=color:#815ba4>for</span> i <span style=color:#5bc4bf>in</span> range(<span style=color:#f99b15>1</span>,<span style=color:#f99b15>10</span>):
        <span style=color:#815ba4>if</span> vmap[i] <span style=color:#5bc4bf>==</span> <span style=color:#f99b15>0</span>:
            unused<span style=color:#5bc4bf>.</span>append(i)
    <span style=color:#815ba4>return</span> unused
</code></pre></td></tr></table>
</div>
</div><p>We can then finally build our overall function that checks for row, column and square:</p>
<div class=highlight><div style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 0
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#776e71># Main logic for sifting through usable values</span>
<span style=color:#815ba4>def</span> <span style=color:#06b6ef>getAvailValues</span>(rowIndex, colIndex, grid):
    <span style=color:#776e71># Mapping of number of values that appear</span>
    vmap <span style=color:#5bc4bf>=</span> [<span style=color:#f99b15>0</span> <span style=color:#815ba4>for</span> x <span style=color:#5bc4bf>in</span> range(<span style=color:#f99b15>10</span>)] 

    <span style=color:#776e71># Logs occurences in row</span>
    <span style=color:#815ba4>for</span> i <span style=color:#5bc4bf>in</span> range(colIndex<span style=color:#5bc4bf>+</span><span style=color:#f99b15>1</span>):
        vmap[grid[rowIndex][i]] <span style=color:#5bc4bf>+=</span><span style=color:#f99b15>1</span>

    <span style=color:#776e71># Log occurences in col</span>
    <span style=color:#815ba4>for</span> i <span style=color:#5bc4bf>in</span> range(rowIndex<span style=color:#5bc4bf>+</span><span style=color:#f99b15>1</span>):
        vmap[grid[i][colIndex]] <span style=color:#5bc4bf>+=</span><span style=color:#f99b15>1</span>

    <span style=color:#776e71># Log occurences in the cell&#39;s square</span>
    sqLim <span style=color:#5bc4bf>=</span> getSquareLimits(rowIndex, colIndex)
    <span style=color:#815ba4>for</span> ri <span style=color:#5bc4bf>in</span> range(sqLim[<span style=color:#f99b15>0</span>][<span style=color:#f99b15>0</span>], sqLim[<span style=color:#f99b15>0</span>][<span style=color:#f99b15>1</span>]):
        <span style=color:#815ba4>for</span> ci <span style=color:#5bc4bf>in</span> range(sqLim[<span style=color:#f99b15>1</span>][<span style=color:#f99b15>0</span>], sqLim[<span style=color:#f99b15>1</span>][<span style=color:#f99b15>1</span>]):
            vmap[grid[ri][ci]] <span style=color:#5bc4bf>+=</span><span style=color:#f99b15>1</span>

    <span style=color:#776e71># Check which values did not appear             </span>
    unused <span style=color:#5bc4bf>=</span> []
    <span style=color:#815ba4>for</span> i <span style=color:#5bc4bf>in</span> range(<span style=color:#f99b15>1</span>,<span style=color:#f99b15>10</span>):
        <span style=color:#815ba4>if</span> vmap[i] <span style=color:#5bc4bf>==</span> <span style=color:#f99b15>0</span>:
            unused<span style=color:#5bc4bf>.</span>append(i)
    <span style=color:#815ba4>return</span> unused
</code></pre></td></tr></table>
</div>
</div><h3 id=building-row-by-row>Building Row by Row</h3>
<p>Let&rsquo;s start building the grid row by row. From columns 1 to 9, we randomly choose one of the unused values to insert into the grid.</p>
<p>In the likely event that there is no solution where <code>getAvailValues</code> returns an empty list, we execute step 2 of the algorithm: Discard the row and start it again through a recursive call.
There is a possibility that the arrangement of previous rows make it such that no permutation of numbers can give a valid Sudoku row. The function will then loop forever in recursion purgatory.</p>
<p>To prevent this, we can keep track of the number of recursions the function has gone through and break it if it passes a certain threshold.<sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup></p>
<div class=highlight><div style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 0
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#776e71># Generate the sudoku board row in accordance with sdku rules</span>
<span style=color:#815ba4>def</span> <span style=color:#06b6ef>generateRow</span>(rowIndex, sudokuGrid):
    <span style=color:#815ba4>global</span> __recursionCounter
    <span style=color:#776e71># Break recursion to backtrack and rebuild the previous row</span>
    <span style=color:#776e71># Arbitrary number chosen </span>
    <span style=color:#815ba4>if</span>(__recursionCounter<span style=color:#5bc4bf>&gt;</span><span style=color:#f99b15>9</span>):
        <span style=color:#815ba4>return</span>
    <span style=color:#815ba4>for</span> i <span style=color:#5bc4bf>in</span> range(<span style=color:#f99b15>9</span>):
        pool <span style=color:#5bc4bf>=</span> getAvailValues(rowIndex, i, sudokuGrid)
        <span style=color:#776e71># Recursion managed by the global counter field</span>
        <span style=color:#815ba4>if</span> len(pool)<span style=color:#5bc4bf>==</span><span style=color:#f99b15>0</span>:
            <span style=color:#776e71># No solution. Re-build row</span>
            __recursionCounter <span style=color:#5bc4bf>+=</span><span style=color:#f99b15>1</span>
            sudokuGrid[rowIndex] <span style=color:#5bc4bf>=</span> [<span style=color:#f99b15>0</span> <span style=color:#815ba4>for</span> x <span style=color:#5bc4bf>in</span> range(<span style=color:#f99b15>9</span>)]
            generateRow(rowIndex, sudokuGrid)
        <span style=color:#815ba4>else</span>:
            rdi <span style=color:#5bc4bf>=</span> randint(<span style=color:#f99b15>0</span>,<span style=color:#f99b15>8</span>)
            <span style=color:#815ba4>if</span> rdi <span style=color:#5bc4bf>&gt;=</span> len(pool):
                rdi <span style=color:#5bc4bf>=</span> rdi<span style=color:#5bc4bf>%</span>len(pool)
            sudokuGrid[rowIndex][i] <span style=color:#5bc4bf>=</span> pool[rdi]
</code></pre></td></tr></table>
</div>
</div><p>We can then wrap it up with additional logic to control row generation:</p>
<div class=highlight><div style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 0
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#815ba4>def</span> <span style=color:#06b6ef>generateSudoku</span>():
    grid <span style=color:#5bc4bf>=</span> [
    [<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>],
    [<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>],
    [<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>],
    [<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>],
    [<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>],
    [<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>],
    [<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>],
    [<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>],
    [<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>,<span style=color:#f99b15>0</span>]
    ]
    i <span style=color:#5bc4bf>=</span> <span style=color:#f99b15>0</span>
    <span style=color:#815ba4>while</span> i<span style=color:#5bc4bf>&lt;</span><span style=color:#f99b15>9</span>:
        <span style=color:#815ba4>global</span> __recursionCounter
        <span style=color:#815ba4>if</span> __recursionCounter <span style=color:#5bc4bf>&gt;</span> <span style=color:#f99b15>9</span>:
            <span style=color:#776e71># Reset the counter</span>
            __recursionCounter <span style=color:#5bc4bf>=</span> <span style=color:#f99b15>0</span>
            i<span style=color:#5bc4bf>-=</span><span style=color:#f99b15>1</span>
            generateRow(i,grid)
        <span style=color:#815ba4>else</span>:
            generateRow(i,grid)
            i<span style=color:#5bc4bf>+=</span><span style=color:#f99b15>1</span>
    <span style=color:#815ba4>return</span> grid
</code></pre></td></tr></table>
</div>
</div><p>A purely recursive approach (getting <code>generateRow</code> to call itself to build the next row) was dropped in favor of a iterative approach for ease of debugging. Python also tended to just stop going into deeper levels of recursion even when setting the system variable for recursion depth limit to the max.</p>
<p>Running the code with a simple script to print every row, the grid generator works!<sup id=fnref:4><a href=#fn:4 class=footnote-ref role=doc-noteref>4</a></sup></p>
<p>At this point, I was ready to wrap up. Mission accomplished, after all. But then a friend of mine who knew I was working on this project showed me this <a href=https://www.101computing.net/backtracking-algorithm-sudoku-solver/>Sudoku backtracking solver</a>.</p>
<h1 id=a-simple-backtrack>A Simple Backtrack</h1>
<p>I ran the code in the link. It looked very, <strong>very</strong> impressive, with all the numbers flickering about as the algorithm methodically worked its way to solve the puzzle.</p>
<p>Although my script builds the full board rather than a puzzle with blanks to be solved, perhaps there is a way to implement a backtracking algorithm in the code myself?</p>
<h2 id=the-algorithm--1>The Algorithm ‚öôÔ∏è</h2>
<p>A backtracking algorithm essentially tries all possible permutations of a solution and discards the failed attempts. It is typically done through recursion.</p>
<ol>
<li>
<p>Build row by row from the leftmost to rightmost cells with randomly chosen values from the set of unused, valid values</p>
</li>
<li>
<p>If a value cannot be found, go back a cell. Blacklist the cell&rsquo;s previously selected value and proceed with another valid one</p>
</li>
<li>
<p>If no valid value exists for the returned cell after a backtrack, go back another cell. If the cell is the first of the row, go back to the previous row instead and rebuild it from scratch randomly</p>
</li>
<li>
<p>Repeat until the grid is formed</p>
</li>
</ol>
<p>I implemented the &lsquo;backtrack&rsquo; non-recursively, using a simple blacklist for a single row:</p>
<div class=highlight><div style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">0
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python> __blacklistedVals <span style=color:#5bc4bf>=</span> [[<span style=color:#f99b15>0</span> <span style=color:#815ba4>for</span> x <span style=color:#5bc4bf>in</span> range(<span style=color:#f99b15>10</span>)] <span style=color:#815ba4>for</span> x <span style=color:#5bc4bf>in</span> range(<span style=color:#f99b15>9</span>)]
</code></pre></td></tr></table>
</div>
</div><p>For every column index, failed values get logged into the blacklist and are excluded when <code>getAvailValues()</code> is being called in the event of a backtrack:</p>
<div class=highlight><div style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 0
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#815ba4>def</span> <span style=color:#06b6ef>getAvailValues</span>(rowIndex, colIndex, grid):
    <span style=color:#815ba4>global</span> __blacklistedVals
    vmap <span style=color:#5bc4bf>=</span> [<span style=color:#f99b15>0</span> <span style=color:#815ba4>for</span> x <span style=color:#5bc4bf>in</span> range(<span style=color:#f99b15>10</span>)] <span style=color:#776e71>#0-9 so 10 vals</span>
    sqLim <span style=color:#5bc4bf>=</span> getSquareLimits(rowIndex, colIndex)
    <span style=color:#776e71># Logs occurences in row</span>
    <span style=color:#815ba4>for</span> i <span style=color:#5bc4bf>in</span> range(<span style=color:#f99b15>0</span>,colIndex<span style=color:#5bc4bf>+</span><span style=color:#f99b15>1</span>):
        vmap[grid[rowIndex][i]] <span style=color:#5bc4bf>+=</span><span style=color:#f99b15>1</span>
    <span style=color:#776e71># Log occurences in col</span>
    <span style=color:#815ba4>for</span> i <span style=color:#5bc4bf>in</span> range(<span style=color:#f99b15>0</span>,rowIndex<span style=color:#5bc4bf>+</span><span style=color:#f99b15>1</span>):
        vmap[grid[i][colIndex]] <span style=color:#5bc4bf>+=</span><span style=color:#f99b15>1</span>
    <span style=color:#776e71># Log occurences in the cell&#39;s square</span>
    <span style=color:#815ba4>for</span> ri <span style=color:#5bc4bf>in</span> range(sqLim[<span style=color:#f99b15>0</span>][<span style=color:#f99b15>0</span>], sqLim[<span style=color:#f99b15>0</span>][<span style=color:#f99b15>1</span>]):
        <span style=color:#815ba4>for</span> ci <span style=color:#5bc4bf>in</span> range(sqLim[<span style=color:#f99b15>1</span>][<span style=color:#f99b15>0</span>], sqLim[<span style=color:#f99b15>1</span>][<span style=color:#f99b15>1</span>]):
            vmap[grid[ri][ci]] <span style=color:#5bc4bf>+=</span><span style=color:#f99b15>1</span>
    unused <span style=color:#5bc4bf>=</span> []
    <span style=color:#815ba4>for</span> i <span style=color:#5bc4bf>in</span> range(<span style=color:#f99b15>1</span>,<span style=color:#f99b15>10</span>):
        <span style=color:#815ba4>if</span> vmap[i] <span style=color:#5bc4bf>==</span> <span style=color:#f99b15>0</span> <span style=color:#5bc4bf>and</span> __blacklistedVals[colIndex][i]<span style=color:#5bc4bf>==</span><span style=color:#f99b15>0</span>:
            unused<span style=color:#5bc4bf>.</span>append(i)
    <span style=color:#815ba4>return</span> unused
</code></pre></td></tr></table>
</div>
</div><p>The row generating logic dropped the recursion in favor of an iterative approach which is somewhat easier to debug:</p>
<div class=highlight><div style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 0
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#815ba4>def</span> <span style=color:#06b6ef>generateRow</span>(rowIndex, grid):
    <span style=color:#815ba4>global</span> __blacklistedVals
    i <span style=color:#5bc4bf>=</span> <span style=color:#f99b15>0</span>
    <span style=color:#776e71># Cell controller</span>
    <span style=color:#815ba4>while</span> i<span style=color:#5bc4bf>&lt;</span><span style=color:#f99b15>9</span>:
        pool <span style=color:#5bc4bf>=</span> getAvailValues(rowIndex, i, grid)
        <span style=color:#815ba4>if</span>(len(pool)<span style=color:#5bc4bf>==</span><span style=color:#f99b15>0</span>):
            <span style=color:#776e71># No solution.</span>
            <span style=color:#776e71># Backtrack one cell, blacklist the prev value and try again</span>
            __blacklistedVals[i] <span style=color:#5bc4bf>=</span> [<span style=color:#f99b15>0</span> <span style=color:#815ba4>for</span> x <span style=color:#5bc4bf>in</span> range(<span style=color:#f99b15>10</span>)]
            i<span style=color:#5bc4bf>-=</span><span style=color:#f99b15>1</span>
            <span style=color:#815ba4>if</span> i<span style=color:#5bc4bf>&lt;</span><span style=color:#f99b15>0</span>:
                <span style=color:#815ba4>return</span> <span style=color:#815ba4>True</span>

            __blacklistedVals[i][grid[rowIndex][i]] <span style=color:#5bc4bf>+=</span><span style=color:#f99b15>1</span>
            grid[rowIndex][i] <span style=color:#5bc4bf>=</span> <span style=color:#f99b15>0</span>

        <span style=color:#815ba4>else</span>:
            rdi <span style=color:#5bc4bf>=</span> randint(<span style=color:#f99b15>0</span>,<span style=color:#f99b15>8</span>)
            <span style=color:#815ba4>if</span> rdi <span style=color:#5bc4bf>&gt;=</span> len(pool):
                rdi <span style=color:#5bc4bf>=</span> rdi<span style=color:#5bc4bf>%</span>len(pool)
            grid[rowIndex][i] <span style=color:#5bc4bf>=</span> pool[rdi]
            i<span style=color:#5bc4bf>+=</span><span style=color:#f99b15>1</span>

    <span style=color:#815ba4>return</span> <span style=color:#815ba4>False</span>

<span style=color:#776e71># The bool returns are used to control the overall grid generation logic</span>
<span style=color:#815ba4>def</span> <span style=color:#06b6ef>generateSudoku</span>():
    <span style=color:#776e71># grid = [...] is omitted</span>
    i <span style=color:#5bc4bf>=</span> <span style=color:#f99b15>0</span>
    <span style=color:#815ba4>while</span> i <span style=color:#5bc4bf>&lt;</span> <span style=color:#f99b15>9</span>:
        <span style=color:#815ba4>if</span> generateRow(i, grid):
            <span style=color:#776e71># Row has failed to build. Re-build the previous row and blacklist</span>
            grid[i] <span style=color:#5bc4bf>=</span> [<span style=color:#f99b15>0</span> <span style=color:#815ba4>for</span> x <span style=color:#5bc4bf>in</span> range(<span style=color:#f99b15>9</span>)]
            __blacklistedVals <span style=color:#5bc4bf>=</span> [[<span style=color:#f99b15>0</span> <span style=color:#815ba4>for</span> x <span style=color:#5bc4bf>in</span> range(<span style=color:#f99b15>10</span>)] <span style=color:#815ba4>for</span> x <span style=color:#5bc4bf>in</span> range(<span style=color:#f99b15>9</span>)]
            i<span style=color:#5bc4bf>-=</span><span style=color:#f99b15>1</span>
            grid[i] <span style=color:#5bc4bf>=</span> [<span style=color:#f99b15>0</span> <span style=color:#815ba4>for</span> x <span style=color:#5bc4bf>in</span> range(<span style=color:#f99b15>9</span>)]
        <span style=color:#815ba4>else</span>:
            i<span style=color:#5bc4bf>+=</span><span style=color:#f99b15>1</span>
    <span style=color:#815ba4>return</span> grid
</code></pre></td></tr></table>
</div>
</div><p>Running the script, it works! But what if we were more rigorous with the depth of the blacklist?</p>
<h1 id=mother-of-all-backtracks-moab>Mother Of All Backtracks (MOAB)</h1>
<p>Instead of keeping track of a row&rsquo;s worth of failed solutions, how about we extend it to the <strong>whole grid</strong>?</p>
<div class=highlight><div style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">0
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python> __blacklistedVals <span style=color:#5bc4bf>=</span> [[[<span style=color:#f99b15>0</span> <span style=color:#815ba4>for</span> x <span style=color:#5bc4bf>in</span> range(<span style=color:#f99b15>10</span>)]<span style=color:#815ba4>for</span> y <span style=color:#5bc4bf>in</span> range(<span style=color:#f99b15>9</span>)]<span style=color:#815ba4>for</span> z <span style=color:#5bc4bf>in</span> range(<span style=color:#f99b15>9</span>)]
</code></pre></td></tr></table>
</div>
</div><p>This particular implementation was pretty hairy, with the backtracking logic extending out to 2 seperate functions.
In the repo, this is <code>sudogen3</code> if you are interested in the full implementation code.</p>
<h2 id=the-algorithm--2>The Algorithm ‚öôÔ∏è</h2>
<ol>
<li>
<p>Build row by row from the leftmost to rightmost cells with randomly chosen values from the set of unused, valid values</p>
</li>
<li>
<p>If a value cannot be found, go back a cell. Blacklist the cell&rsquo;s previously selected value and proceed with another valid one</p>
</li>
<li>
<p>If no valid value exists for the returned cell after a backtrack, go back until we reach a cell with valid values</p>
</li>
<li>
<p>Repeat until the grid is formed</p>
</li>
</ol>
<p>This was a can of worms. Additional flags and conditions needed to be added to catch perculiar edge cases, such as infinite loops<sup id=fnref:5><a href=#fn:5 class=footnote-ref role=doc-noteref>5</a></sup> that the algorithm could get stuck in.</p>
<div class=highlight><div style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 0
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">41
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">42
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">43
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">44
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">45
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">46
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">47
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">48
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">49
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">50
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">51
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#776e71># A quick showcase of the additional functions</span>

<span style=color:#815ba4>def</span> <span style=color:#06b6ef>backtrackRow</span>(rowIndex):
    <span style=color:#815ba4>global</span> __blacklistedVals
    <span style=color:#776e71># Reset row blacklist</span>
    __blacklistedVals[rowIndex] <span style=color:#5bc4bf>=</span> [[<span style=color:#f99b15>0</span> <span style=color:#815ba4>for</span> x <span style=color:#5bc4bf>in</span> range(<span style=color:#f99b15>10</span>)] <span style=color:#815ba4>for</span> y <span style=color:#5bc4bf>in</span> range(<span style=color:#f99b15>9</span>)]
    <span style=color:#815ba4>return</span> rowIndex<span style=color:#5bc4bf>-</span><span style=color:#f99b15>1</span>

<span style=color:#776e71># Backtrack cell by cell until we have a pool of &gt; 1 possible value</span>
<span style=color:#776e71># Rare edge case whereby the backtrack cycles about a cell. The rows are built with no solution.</span>
<span style=color:#776e71># This + other possible undefined edge cases are caught by the infiniteLoop flag.</span>
<span style=color:#815ba4>def</span> <span style=color:#06b6ef>backtrackCell</span>(rowIndex, colIndex, grid, infiniteLoop):
    <span style=color:#815ba4>if</span>(colIndex<span style=color:#5bc4bf>&lt;</span><span style=color:#f99b15>0</span>):
        <span style=color:#776e71># Backtrack a row as current row has no solution</span>
        rowIndex <span style=color:#5bc4bf>=</span> backtrackRow(rowIndex)
        colIndex <span style=color:#5bc4bf>=</span> <span style=color:#f99b15>8</span>
    pool <span style=color:#5bc4bf>=</span> getAvailValues(rowIndex, colIndex, grid)
    <span style=color:#815ba4>if</span> len(pool) <span style=color:#5bc4bf>&gt;</span> <span style=color:#f99b15>1</span> <span style=color:#5bc4bf>and</span> <span style=color:#5bc4bf>not</span> infiniteLoop:
        <span style=color:#815ba4>return</span> [rowIndex, colIndex]
    <span style=color:#815ba4>else</span>:
        infiniteLoop <span style=color:#5bc4bf>=</span> <span style=color:#815ba4>False</span>
        grid[rowIndex][colIndex] <span style=color:#5bc4bf>=</span> <span style=color:#f99b15>0</span>
        <span style=color:#815ba4>return</span> backtrackCell(rowIndex, colIndex<span style=color:#5bc4bf>-</span><span style=color:#f99b15>1</span>, grid, infiniteLoop)

<span style=color:#815ba4>def</span> <span style=color:#06b6ef>generateSudoku</span>():
    <span style=color:#776e71># grid = [...] is omitted</span>
    <span style=color:#815ba4>global</span> __blacklistedVals
    <span style=color:#815ba4>global</span> __infiniteRecursion
    i <span style=color:#5bc4bf>=</span> <span style=color:#f99b15>0</span>
    specificIndex <span style=color:#5bc4bf>=</span> <span style=color:#f99b15>0</span>
    new_coords <span style=color:#5bc4bf>=</span> []
    <span style=color:#815ba4>while</span> i<span style=color:#5bc4bf>&lt;</span><span style=color:#f99b15>9</span>:
        <span style=color:#815ba4>if</span> generateRow(i, grid, specificIndex):
            i <span style=color:#5bc4bf>=</span> backtrackRow(i)
            <span style=color:#815ba4>if</span> i<span style=color:#5bc4bf>&lt;</span><span style=color:#f99b15>0</span>:
                <span style=color:#815ba4>for</span> x <span style=color:#5bc4bf>in</span> range(<span style=color:#f99b15>9</span>):
                    print (grid[x])
                <span style=color:#815ba4>break</span>
            tmp <span style=color:#5bc4bf>=</span> backtrackCell(i, <span style=color:#f99b15>8</span>, grid, __infiniteRecursion)
            <span style=color:#776e71># Oscillation infinite loop catcher</span>
            <span style=color:#815ba4>if</span> new_coords <span style=color:#5bc4bf>==</span> tmp:
                __infiniteRecursion <span style=color:#5bc4bf>=</span> <span style=color:#815ba4>True</span>
            <span style=color:#815ba4>else</span>:
                __infiniteRecursion <span style=color:#5bc4bf>=</span> <span style=color:#815ba4>False</span>
                new_coords <span style=color:#5bc4bf>=</span> tmp
                specificIndex <span style=color:#5bc4bf>=</span> new_coords[<span style=color:#f99b15>1</span>]
                i <span style=color:#5bc4bf>=</span> new_coords[<span style=color:#f99b15>0</span>]
        <span style=color:#815ba4>else</span>:
            specificIndex <span style=color:#5bc4bf>=</span> <span style=color:#f99b15>0</span>
            i<span style=color:#5bc4bf>+=</span><span style=color:#f99b15>1</span>
    __blacklistedVals <span style=color:#5bc4bf>=</span> make_new_blacklist()
    <span style=color:#815ba4>return</span> grid
</code></pre></td></tr></table>
</div>
</div><h1 id=visualising-efficiency>Visualising Efficiency</h1>
<p>The fun part comes when we take a look at the data we can get from the algorithms.</p>
<p>To check the efficiency of the 3 different generators, I created a counter variable <code>__timesCalled</code> that records the amount of times <code>getAvailValues()</code> is being called. This is because <code>getAvailValues()</code> is indicative of the algorithm&rsquo;s efficiency since it is called for every single cell input.</p>
<p>All the effort into making a thorough, methodical Sudoku generator <em><strong>must</strong></em> pay off in terms of efficiency, right?</p>
<p>After all, it intuitively makes sense that with a proper backtracking algorithm, we can systematically search through values and quickly converge to a valid sudoku square. It should at least be better than randomly re-building rows, leaving it up to chance.</p>
<h3 id=well-no>Well, no.</h3>
<p>It was kind of obvious while debugging the three algorithms that the <strong>MOAB</strong> and <strong>Simple Blacklist</strong> algorithms were slow.</p>
<p>For each of the 3 Sudoku algorithms discussed, 1000 puzzles were generated and the number of lookup calls to <code>getAvailValues()</code> were recorded down.</p>
<p>Here&rsquo;s the scatter plot of the Lazy Approach, Simple Backtrack and MOAB.</p>
<figure class=figmd><img src=https://raw.githubusercontent.com/nichyjt/Sudoku_py/main/sudogen_graphs/Sudogen_Scatter.png>
</figure>
<p>There&rsquo;s a lot of noise, but it is abundantly clear that the blacklisting approaches are generally less efficient than the Lazy Approach.</p>
<p>Let&rsquo;s plot a Box & Whisker diagram to get a cleaner look into the stats.</p>
<figure class=figmd><img src=https://raw.githubusercontent.com/nichyjt/Sudoku_py/main/sudogen_graphs/Sudogen_Box.png>
</figure>
<p>With this, it is clear that on average, the Lazy Approach takes much fewer lookups than the Simple Blacklist and MOAB. But why?</p>
<p>Perhaps its because it&rsquo;s more likely for the algo to stumble onto the &lsquo;correct&rsquo; sequence of values randomly for any given row rather than be going through all the possible permutations using the backtracking algo. Especially at the later rows where there may only be one &lsquo;valid&rsquo; sequence of values that exists and will naturally converge to a solution, but many wrong values to choose from and permutate through.</p>
<h2 id=on-efficiency>On Efficiency</h2>
<p>To begin with, backtracking is a naiive approach to solving problems, at least in the case of Sudoku. Backtracking is a form of brute forcing, which is inefficient from the get-go.</p>
<p>There are opportunities for more elegant ways to build the grid using the properties of Sudoku, such as reflections, rotations & group-theory. There are a wide range of papers and studies for Sudoku that go into detail on finding all sorts of permutations for valid Sudoku grids which can further advise Sudoku generating algorithms. The perfect build case for my scripts are 81 lookup calls, but it is entirely possible to go below 81 lookups and reach really high levels of efficiency.</p>
<p>Of course, I&rsquo;m pretty sure that out there in the wild, people have already created Sudoku generating algorithms that exploit its mathematical properties to dizzying levels of efficiency.</p>
<h1 id=puzzle-making-and-tkinter>Puzzle-Making and Tkinter</h1>
<p>At this point I&rsquo;ve spent a considerable amount of time building and debugging this program. Why not just make it into a proper game?
To wrap this project up, I made the UI using Tkinter and made it into a fully functional game with varying difficulty.</p>
<p>The puzzle is formed by calling the sudoku grid generator, then popping off random positions from the grid. The higher the difficulty, the more positions popped.</p>
<p>This is a naiive approach to accessing difficulty. A true reflection of difficulty not only scales with the number of blanks, but also takes into account the techniques that a player needs to use to solve the puzzles. But for my intents and purposes, the naiive approach should still get the job done for a vast majority of the time.</p>
<p>If you&rsquo;re interested to try my homemade Sudoku out, <a href=https://github.com/nichyjt/Sudoku_py>download my project here</a> and enjoy! üçª</p>
<section class=footnotes role=doc-endnotes>
<hr>
<ol>
<li id=fn:1 role=doc-endnote>
<p>Sudokus are not actually magic squares, but are similar insofar as the rows and columns add up to the same number. Sudokus are specifically, a special type of latin squares.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
<li id=fn:2 role=doc-endnote>
<p>Alternatively, we can achieve a similar reduction of time complexity by using a dictionary.&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
<li id=fn:3 role=doc-endnote>
<p>I used an evil global variable to track the recursion depth. It would be better if the counter was passed in as an argument in the function. However, to keep things simple, I went with the evil option üòà&#160;<a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
<li id=fn:4 role=doc-endnote>
<p>If you are coding along, you can see the grid on terminal by putting the following under your script&rsquo;s driver function:</p>
<div class=highlight><div style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">0
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>sudoku <span style=color:#5bc4bf>=</span> generateSudoku()
<span style=color:#815ba4>for</span> row <span style=color:#5bc4bf>in</span> sudoku:
    print(row)
</code></pre></td></tr></table>
</div>
</div>&#160;<a href=#fnref:4 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></li>
<li id=fn:5 role=doc-endnote>
<p>Under certain conditions, the algorithm oscillates to and fro two points of the grid. I am not sure about the mathematics behind the trigger to this condition, since the conditions themselves are hard to catch and debug.&#160;<a href=#fnref:5 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
</ol>
</section>
</div>
</div>
</section>
</main>
</div>
<footer class=footer>
<div>
<p class=footertext style=color:#f0f8ff;font-family:MainTitle;align-self:center>
Built with &#x2764;&#xfe0f; &
            <a href=https://gohugo.io/ target=_blank style=color:var(--color-link)><span>Hugo</span></a>
</p>
</div>
<div class=footertext style=font-family:MainTitle;align-self:center>
<a href=https://nichyjt.github.io/attributions/ style=color:var(--color-link)><span>Credits++</span></a>
</div>
<div class=footertext style=color:#f0f8ff;font-family:MainTitle;align-self:center>
¬© 2021 - 2025 Nicholas Yek
</div>
<div class=fontloader></div>
</footer>
</body>
<script>document.body.classList.add(localStorage.getItem("theme"))</script>
</html>